<h1>{{form.name}}</h1>
<small *ngIf="form.author?.name">Created by {{form.author?.name}}</small>
<small *ngIf="form.date" class="float-right">{{form.date | date}}</small>
<form class="mt-5" [formGroup]="f">
    <div class="form-group row" *ngFor="let field of form?.fields || []">
        <label [for]="field.id" class="col-sm-2 col-form-label">{{ field.name }}
            <span class="text-danger" *ngIf="field.required || field.requiredTrue">*</span>
        </label>
        <div class="col-sm-10">
            <input
                *ngIf="isInputTag(field)"
                [type]="field.type"
                [class.is-valid]="f.controls[field.id].valid"
                [class.is-invalid]="f.controls[field.id].invalid && (f.controls[field.id].dirty || f.controls[field.id].touched)"
                [readonly]="field.readonly ? 'readonly' : null"
                [minlength]="field.minlength ? field.minlength : null"
                [maxlength]="field.maxlength ? field.maxlength : null"
                [min]="field.min ? field.min : null"
                [max]="field.max ? field.max : null"
                [placeholder]="field.placeholder || field.name"
                class="form-control"
                [id]="field.id"
                [formControlName]="field.id"
            >
            <textarea
                *ngIf="isTextareaTag(field)"
                [class.is-valid]="f.controls[field.id].valid"
                [class.is-invalid]="f.controls[field.id].invalid && (f.controls[field.id].dirty || f.controls[field.id].touched)"
                [readonly]="field.readonly ? 'readonly' : null"
                [minlength]="field.minlength ? field.minlength : null"
                [maxlength]="field.maxlength ? field.maxlength : null"
                [placeholder]="field.placeholder || field.name"
                class="form-control"
                [id]="field.id"
                [formControlName]="field.id"
            ></textarea>
            <ng-container *ngIf="isCheckbox(field)">
                <div class="custom-control custom-checkbox"  *ngFor="let option of field.options || []">
                    <input
                        type="checkbox"
                        [class.is-valid]="f.controls[field.id].valid"
                        [class.is-invalid]="f.controls[field.id].invalid && (f.controls[field.id].dirty || f.controls[field.id].touched)"
                        class="custom-control-input"
                        [id]="option.value"
                        [value]="option.value"
                        [formControlName]="field.id"
                    >
                    <label
                        class="custom-control-label"
                        [for]="option.value"
                    >{{option.name}}</label>
                </div>
            </ng-container>
            <ng-container *ngIf="isRadio(field)">
                <div class="custom-control custom-radio"  *ngFor="let option of field.options || []">
                    <input
                        type="radio"
                        [class.is-valid]="f.controls[field.id].valid"
                        [class.is-invalid]="f.controls[field.id].invalid && (f.controls[field.id].dirty || f.controls[field.id].touched)"
                        class="custom-control-input"
                        [id]="option.value"
                        [value]="option.value"
                        [formControlName]="field.id"
                    >
                    <label
                        class="custom-control-label"
                        [for]="option.value"
                    >{{option.name}}</label>
                </div>
            </ng-container>
            <small *ngIf="field.description">{{field.description}}</small>
        </div>
    </div>
</form>
<small class="text-muted">Please note: The fields marked with <span class="text-danger">*</span> are mandatory and must be filled in. </small>